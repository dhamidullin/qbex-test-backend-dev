<!-- <p>link: {{link}}</p> -->
<!-- <p>creatorMode: {{creatorMode}}</p> -->
<!-- <hr> -->

<div class="editor-main-panel">

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="title">Заголовок</span>
    </div>
    <input [(ngModel)]="product.title" placeholder="Заголовок" type="text" class="form-control" aria-describedby="title">
  </div>

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="link">Ссылка</span>
    </div>
    <input [(ngModel)]="product.link" placeholder="Используется как часть URL ссылки на товар" type="text" class="form-control" aria-describedby="link">
  </div>

  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="price">Цена</span>
    </div>
    <input [(ngModel)]="product.price" placeholder="Целое число (в копейках)" type="number" class="form-control" aria-describedby="price">
  </div>

  <div class="form-group">
    <label for="short_description">Короткое описание (Осталось символов: {{dataService.ShortDescriptionSymbolsCount - product.short_description.length}})</label>

    <textarea [(ngModel)]="product.short_description" placeholder="Отображается в каталоге, можно оставить пустым" type="text" rows="4" maxlength="{{dataService.ShortDescriptionSymbolsCount}}"
      class="form-control" id="short_description">
    </textarea>
  </div>

  <div class="form-group">
    <label for="description">Полное описание</label>

    <editor class="editor" [(ngModel)]="product.description" [init]="{plugins: 'link lists'}" apiKey="vm3fozlgp04ukynxiispecc43xjwkph2xvlkhl2d15c1o5s1"
      id="description"></editor>
  </div>

  <div class="form-group">
    <label for="description">Картинки</label>

    <table class="table">
      <thead>
        <tr>
          <td> Миниатюра </td>
          <td> Удалить </td>
          <td> Ссылка </td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let imageUrl of product.images, let i = index">
          <td>
            <div class="background-image-container">
              <div class="background-image" [style.background-image]="'url(' + imageUrl + ')'"></div>
            </div>
          </td>
          <td>
            <button class="btn btn-outline-secondary" (click)="deleteImageUrl(i)">Удалить</button>
          </td>
          <td>
            <a href="{{imageUrl}}">{{imageUrl}}</a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <button (click)="addImageUrl()" class="btn btn-outline-secondary" type="button">Добавить</button>
      </div>
      <input [(ngModel)]="imageUrlBuffer" type="text" class="form-control" placeholder="Можно поочередно добавить несколько ссылок на картинки, первая будет главной" aria-label="" aria-describedby="basic-addon1">
    </div>

  </div>
</div>

<div class="spacer"></div>